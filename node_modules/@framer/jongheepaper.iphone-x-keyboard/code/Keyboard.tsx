import * as React from "react"
import { Frame, addPropertyControls, ControlType, Stack } from "framer"
import { Key } from "./Key"
import { emojiIcon, micIcon } from "./Icons"
// Open Preview: Command + P
// Learn more: https://framer.com/api

function Line(props) {
    const firstLineArr = ["Q", "W", "E", "R", "T", "Y", "U", "I", "O", "P"]
    const secondLineArr = ["A", "S", "D", "F", "G", "H", "J", "K", "L"]
    const thirdLineArr = ["Shift", "Z", "X", "C", "V", "B", "N", "M", "Back"]
    const fourthLineArr = ["123", "space", "Go"]

    const lineSelector = () => {
        if (props.lineNo === 0) {
            return firstLineArr
        } else if (props.lineNo === 1) {
            return secondLineArr
        } else if (props.lineNo === 2) {
            return thirdLineArr
        } else if (props.lineNo === 3) {
            return fourthLineArr
        }
    }

    const keyWidth = key => {
        if (key == "Shift" || key == "Back") {
            return 42
        } else if (key == "123") {
            return 87
        } else if (key == "Go") {
            return 88
        } else if (key == "space") {
            return 182
        } else {
            32
        }
    }

    const bgTint = key => {
        if (key == "Back" || key == "123" || key == "Go") {
            return "#AAADB7"
        } else {
            return "#FCFCFE"
        }
    }

    const onTap = key => {
        console.log(key)
    }

    return (
        <Stack
            background=""
            width="100%"
            height={42}
            direction="horizontal"
            gap={5}
            distribution="center"
        >
            {lineSelector().map((key, index) => {
                return (
                    <Key
                        content={key}
                        keyWidth={keyWidth(key)}
                        tint={bgTint(key)}
                        marginR={key == "Shift" ? 10 : ""}
                        marginL={key == "Back" ? 13 : ""}
                        key={index}
                        FontSize={
                            key == "123" || key == "space" || key == "Go"
                                ? 16
                                : 22.4
                        }
                        onTap={() => onTap(key)}
                    />
                )
            })}
        </Stack>
    )
}

const iconPlceholderStyle = {
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
}

export function Keyboard(props) {
    const { text, tint, ...rest } = props
    const keyLine = [0, 1, 2, 3]
    return (
        <Frame
            name={"wrapper"}
            background={"#CCCFD3"}
            width={375}
            height={291}
            style={{
                display: "flex",
            }}
        >
            <Stack width="100%" direction="vertical" top={8} gap={8}>
                {keyLine.map((line, index) => {
                    return <Line lineNo={index} key={index} />
                })}
            </Stack>
            <Frame
                name="BottomIcons"
                width={"100%"}
                height={70}
                bottom={0}
                background=""
            >
                <Frame
                    background=""
                    name="iconPlace"
                    width={49}
                    height={49}
                    left={14}
                    bottom={13}
                    style={iconPlceholderStyle}
                >
                    {emojiIcon}
                </Frame>
                <Frame
                    name="iconPlace"
                    background=""
                    width={49}
                    height={49}
                    right={13}
                    bottom={13}
                    style={iconPlceholderStyle}
                >
                    {micIcon}
                </Frame>
            </Frame>
        </Frame>
    )
}
